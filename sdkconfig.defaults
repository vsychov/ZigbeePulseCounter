# GPIOs
CONFIG_PULSE_GPIO=9
CONFIG_FACTORY_RESET_BUTTON_GPIO=11
CONFIG_PULSE_DEBOUNCE_MS=50

# Battery sensing (3.2V max)
CONFIG_BATTERY_ADC_ENABLE=y
CONFIG_BATTERY_ADC_UNIT=1
CONFIG_BATTERY_ADC_CHANNEL=0
CONFIG_BATTERY_ADC_ATTEN=0
CONFIG_BATTERY_RTOP_OHM=306000
CONFIG_BATTERY_RBOT_OHM=100000
CONFIG_BATTERY_EMPTY_MV=2600
CONFIG_BATTERY_FULL_MV=3400
CONFIG_BATTERY_REPORT_HYST_PCT=2

# Zigbee
CONFIG_ZB_ENABLED=y
CONFIG_ZB_ZED=y
# CONFIG_ZB_ZCZR is not set
CONFIG_SLEEPY_END_DEVICE=y
CONFIG_PULSE_GLITCH_FILTER_ENABLE=n
CONFIG_ZB_CHANNEL_MASK=0x07FFF800
CONFIG_ZB_SECONDARY_CHANNEL_MASK=0x0
CONFIG_ZB_BDB_SCAN_DURATION=6

# --- Low power defaults ---
# IEEE 802.15.4 radio sleep (critical for mA -> uA drop)
CONFIG_IEEE802154_SLEEP_ENABLE=y

# Zigbee trace disabled by default; enable via menuconfig when needed.
# CONFIG_ESP_ZB_TRACE_ENABLE is not set
# CONFIG_ZB_TRACE_LEVEL is not set
# CONFIG_ZB_TRACE_MASK is not set
CONFIG_ZB_KEEP_ALIVE_MS=60000
CONFIG_ZB_OTA_FILE_VERSION=0x00000002
CONFIG_ZB_OTA_IMAGE_TYPE=0x0001
CONFIG_ZB_MIN_JOIN_LQI=0
CONFIG_ZB_STEER_MAX_RETRIES=12
# 0 stops auto-steering after max attempts; set >0 (e.g. 900) to retry bursts periodically
CONFIG_ZB_STEER_COOLDOWN_S=0
CONFIG_ZB_MFG_CLUSTER_ID=0xFD10
CONFIG_ZB_DEVICE_ID=0x7777
CONFIG_ZB_REPORT_DST_SHORT_ADDR=0x0000
CONFIG_ZB_REPORT_DST_ENDPOINT=1
CONFIG_ZB_REPORT_MIN_S=10
CONFIG_ZB_REPORT_MAX_S=300
CONFIG_ZB_REPORTABLE_CHANGE=0
CONFIG_ZB_TX_POWER_DBM=20
CONFIG_DEMAND_DECAY_TAU_S=60
CONFIG_DEMAND_RISE_TAU_S=10
CONFIG_DEMAND_IDLE_TIMEOUT_S=30

CONFIG_ZB_BAT_REPORT_MIN_S=300
CONFIG_ZB_BAT_REPORT_MAX_S=21600
CONFIG_ZB_BAT_REPORTABLE_CHANGE=0
CONFIG_PULSE_GLITCH_FILTER_ENABLE=n
CONFIG_PULSE_MIN_WIDTH_MS=50
CONFIG_PULSE_PER_UNIT_NUMERATOR=10000
CONFIG_FACTORY_RESET_BUTTON_GPIO=9

# Partitions
CONFIG_PARTITION_TABLE_CUSTOM=y
CONFIG_PARTITION_TABLE_CUSTOM_FILENAME="partitions.csv"

# Power management
CONFIG_PM_ENABLE=y
CONFIG_PM_SLP_IRAM_OPT=y
CONFIG_FREERTOS_USE_TICKLESS_IDLE=y

# If you keep any short periodic delays, allow sleep even for short idle windows
CONFIG_FREERTOS_IDLE_TIME_BEFORE_SLEEP=2

# Flash
CONFIG_ESPTOOLPY_FLASHSIZE_4MB=y
CONFIG_ESPTOOLPY_FLASHSIZE="4MB"

# Logging
# CONFIG_LOG_DEFAULT_LEVEL_VERBOSE is not set
# CONFIG_LOG_DEFAULT_LEVEL_DEBUG is not set
CONFIG_LOG_DEFAULT_LEVEL_INFO=y
# CONFIG_LOG_DEFAULT_LEVEL_WARN is not set
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_BOOTLOADER_LOG_LEVEL_WARN=y
CONFIG_BOOTLOADER_LOG_LEVEL=2

# Optional (often helps): disable USB Serial/JTAG & GDB stub in low-power builds
# CONFIG_USJ_ENABLE_USB_SERIAL_JTAG is not set
# CONFIG_ESP_GDBSTUB_ENABLED is not set

# Zigbee TX power
